<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Painel de Estrat√©gia - Aviator</title>
  <style>
    body { font-family: Arial, sans-serif; background: #111; color: #fff; margin: 0; padding: 0; }
    h1 { color: #ffcc00; margin: 0; padding: 10px 20px; }
    table { width: 100%; border-collapse: collapse; margin-top: 0; background: #222; }
    th, td { border: 1px solid #333; padding: 10px; text-align: center; }
    thead th { background: #333; position: sticky; top: 200px; z-index: 100; }
    tr:nth-child(even) { background: #1c1c1c; }
    input { padding: 10px; width: 100px; font-size: 16px; }
    button { padding: 10px; font-size: 16px; }
    #entrada-container { padding: 10px 20px; background: #111; }
    #header-container {
      position: sticky;
      top: 0;
      background: #111;
      z-index: 101;
      padding: 10px 20px;
    }
    #lucro-geral { font-size: 18px; margin-top: 10px; }
    .lucro-positivo { color: #0f0; }
    .lucro-negativo { color: #f00; }
    thead { position: sticky; top: 180px; background: #222; z-index: 99; }
  </style>
</head>
<body>
  <div id="header-container">
    <h1>üìà Estrat√©gia Aviats - TS</h1>
    <p><strong>Condi√ß√£o de entrada:</strong> R[n‚àí4] &lt; 2, R[n‚àí3] &lt; 2, R[n‚àí2] &gt; 2, R[n‚àí1] &gt; R[n‚àí2]</p>
    <p><strong>Sa√≠da fixa:</strong> 1.12</p>
    <p><strong>Stake fixa:</strong> R$100</p>
    <p id="lucro-geral">Lucro/Perda: R$ 0.00</p>
    <div id="entrada-container">
      <input type="text" id="entrada" placeholder="Ex: 1.23" onkeypress="if(event.key === 'Enter'){registrar()}" autofocus />
      <button onclick="registrar()">Registrar</button>
    </div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Rodada</th>
        <th>Valor</th>
        <th>Entrada</th>
        <th>Resultado</th>
        <th>Lucro (R$)</th>
        <th>Lucro Acumulado (R$)</th>
      </tr>
    </thead>
    <tbody id="tabela-resultados"></tbody>
  </table>

  <script>
    const valores = [];
    const stack = 100;
    const saidaFixa = 1.12;
    let lucroAcumulado = 0;

    function registrar() {
      const input = document.getElementById("entrada");
      const valor = parseFloat(input.value.replace(",", "."));
      if (!isNaN(valor)) {
        valores.push(valor);
        atualizarTabela();
        input.value = "";
        input.focus();
      }
    }

    function atualizarTabela() {
      const tabela = document.getElementById("tabela-resultados");
      const lucroGeral = document.getElementById("lucro-geral");
      tabela.innerHTML = "";
      lucroAcumulado = 0;

      for (let i = 0; i < valores.length; i++) {
        let atual = valores[i];
        let entrada = "-";
        let resultado = "-";
        let lucro = 0;

        if (i >= 3) {
          let r4 = valores[i - 3];
          let r3 = valores[i - 2];
          let r2 = valores[i - 1];
          let r1 = valores[i];

          if (r4 < 2 && r3 < 2 && r2 > 2 && r1 > r2) {
            entrada = "‚úÖ";
            resultado = "‚è≥";
          }
        }

        if (i >= 4) {
          let r4 = valores[i - 4];
          let r3 = valores[i - 3];
          let r2 = valores[i - 2];
          let r1 = valores[i - 1];

          if (r4 < 2 && r3 < 2 && r2 > 2 && r1 > r2) {
            entrada = "‚úÖ";
            resultado = atual >= saidaFixa ? "‚úÖ" : "‚ùå";
            lucro = resultado === "‚úÖ" ? stack * (saidaFixa - 1) : -stack;
            lucroAcumulado += lucro;
          }
        }

        const linha = `<tr>
          <td>${i + 1}</td>
          <td>${atual.toFixed(2)}</td>
          <td>${entrada}</td>
          <td>${resultado}</td>
          <td>R$ ${lucro.toFixed(2)}</td>
          <td>R$ ${lucroAcumulado.toFixed(2)}</td>
        </tr>`;
        tabela.innerHTML += linha;
      }

      lucroGeral.innerHTML = `Lucro/Perda: R$ ${lucroAcumulado.toFixed(2)}`;
      lucroGeral.className = lucroAcumulado >= 0 ? "lucro-positivo" : "lucro-negativo";
    }
  </script>
</body>
</html>
